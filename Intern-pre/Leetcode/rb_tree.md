---
typora-copy-images-to: ./images
---

红黑树是一种特殊的二叉查找树，它的特点有：

* 每个节点是黑色，或者是红色
* 根节点是黑色
* 每个叶节点是黑色（这里的叶节点指为空的那些叶节点）
* 如果一个节点是红色的，那么它的子节点必然是黑色的
* 从一个节点到该节点的子孙节点的所有路径上有相同数目的黑色节点



其中，最后两条特性保证了，没有一条路径会比其他路径长出2倍，故红黑树是相对接近平衡的二叉树

**应用**：C++中stl set、map都为红黑树存储，linux完全公平调度cfs也采用红黑树



**定理**： **一棵含有n个节点的红黑树的高度至多为2log(n+1)**。该定理要先转化为逆否命题：高度为h的红黑树，它的包含的内节点个数至少为 2h/2-1个，之后转化为 ：高度为h的红黑树，它的包含的黑节点个数至少为 2bh(x)-1个，再利用数学归纳法证明

#### 红黑树的基本操作

左旋：![截屏2020-04-06下午12.23.43](/Users/fregs/Desktop/代码区/Markdown-Notes/Intern-pre/Leetcode/images/截屏2020-04-06下午12.23.43.png)

![截屏2020-04-06下午12.24.17](/Users/fregs/Desktop/代码区/Markdown-Notes/Intern-pre/Leetcode/images/截屏2020-04-06下午12.24.17.png)

右旋：

![截屏2020-04-06下午12.25.45](/Users/fregs/Desktop/代码区/Markdown-Notes/Intern-pre/Leetcode/images/截屏2020-04-06下午12.25.45.png)

将y节点变为x的右子节点，即为右旋

道理同左旋类似

![截屏2020-04-06下午12.30.11](/Users/fregs/Desktop/代码区/Markdown-Notes/Intern-pre/Leetcode/images/截屏2020-04-06下午12.30.11.png)

要注意的是，被右旋的节点的新父亲是它原先左边的节点，被左旋的节点的新父亲是它右边的节点

**旋转的精髓在于，旋转之后树仍为一棵二叉查找树，即父节点左边的节点都小于父节点，父节点右边的节点都大于父节点，在不改变这个前提的情况下，调整了两遍树的高度。**

