---
typora-root-url: ./images
typora-copy-images-to: ./images
---

#### 基于操作系统概念第七版

## 进程

#### 3.1 进程概念

* 非正式的说法：进程是执行中的程序
* 进程一般包括：文本段（代码段）、程序计数器/处理器寄存器表示的当前活动、堆栈段（临时数据，比如函数参数、返回地址和局部变量）、数据段（全局变量）、堆（在运行期间动态分配的内存）。
* 程序只是被动实体，当一个可执行文件被装入内存时，一个程序才能成为进程。
* 若一个用户同时打开了两个电子邮件副本，那么它们被当作两个独立的执行序列，因为他们虽然文本段相同，但数据段、堆、栈段却不同



![截屏2020-03-26下午10.50.33](/截屏2020-03-26下午10.50.33.png)

上图为进程的状态变化，一次只有一个进程可以在一个处理器上运行，但是多个进程可处于就绪或等待状态。

#### 3.1.3 进程控制块

每个进程在操作系统内用进程控制块PCB表示，包括：

* 进程状态：新的、就绪、运行、等待、终止等
* 程序计数器：要执行的下个指令的地址
* CPU寄存器：累加器、索引寄存器、堆栈指针、通用寄存器和其他条件码信息寄存器
* CPU调度信息：进程优先级、调度队列指针和其他调度参数
* 内存管理信息：基址、界限寄存器、段表、页表等
* 记账信息：cpu时间、实际使用时间、作业或进程数量
* io状态信息

### 3.2 进程调度

进程调度会选择一个可用的进程到cpu上执行，但处理器系统不会有超过一个进程在运行。

#### 3.2.1 调度队列

* 进程进入系统会被加到作业队列中，该队列包括系统中的所有进程。驻留在内存中就绪的，等待运行的进程保存在就绪队列中，该结构通常使用链表实现
* 操作系统也有其他队列，每个io设备也有设备队列，它代表等待io设备的进程列表。

下面是进程在生命周期中可能发生的情况：

![截屏2020-03-26下午11.06.19](/截屏2020-03-26下午11.06.19.png)

#### 3.2.2 调度程序

